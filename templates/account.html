{% extends "base.html" %}

{% block title %}Account{% endblock %}

{% block content %}
<h2>{{ email }}</h2>

{% if bookings %}
<h2>Your Bookings</h2>
{% for booking in bookings %}
<div class="container mt-1">
    <div class="card mb-1">
        <div class="card-body">
            <ul class="mb-1">
                <form action="{{ url_for('routes.cancel_booking') }}" method="POST">
                    <input type="hidden" name="booking_id" value="{{ booking.booking_id }}">
                    
                <li><strong>Booking ID:</strong> {{ booking.booking_id }}</li>
                <li><strong>Room Number:</strong> {{ booking.room_num }}</li>
                <li><strong>Booking Date:</strong> {{ booking.booking_date }}</li>
                <li><strong>Arrival Date:</strong> {{ booking.check_in_date }}</li>
                <li><strong>Departure Date:</strong> {{ booking.check_out_date }}</li>
                <li><strong>Adults:</strong> {{ booking.adults }}</li>
                <li><strong>Children:</strong> {{ booking.children }}</li>
                <li><strong>Needs:</strong> {{ booking.needs }}</li>
                <button type="submit">Cancel Booking</button>
                </form>
            </ul>
        </div>
    </div>
</div>
{% endfor %}
{% endif %}

{% if tickets %}
<h2>Your Tickets</h2>
{% for ticket in tickets %}
<div class="container mt-1">
    <div class="card mb-1">
        <div class="card-body">
            <ul class="mb-1">
                <form action="{{ url_for('routes.cancel_ticket') }}" method="POST">
                    <input type="hidden" name="ticket_id" value="{{ ticket.ticket_id }}">
                    
                <li><strong>Ticket ID:</strong> {{ ticket.ticket_id }}</li>
                <li><strong>Children:</strong> {{ ticket.children }}</li>
                <li><strong>Adults:</strong> {{ ticket.adults }}</li>
                <li><strong>Seniors:</strong> {{ ticket.seniors }}</li>
                <li><strong>Total Price:</strong> {{ ticket.total_price }}</li>
                <button type="submit">Cancel Ticket</button>
                </form>
            </ul>
        </div>
    </div>
</div>
{% endfor %}
{% endif %}
<form action="{{ url_for('routes.logout') }}" method="POST">
    <button type="submit">Log Out</button>
</form>
<form action="{{ url_for('routes.delete_account') }}" method="POST">
    <button type="submit">Delete Account</button>
</form>
{% endblock %}